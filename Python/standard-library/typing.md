## `typing`

- 組み込みの`type`
  - `type`文（組み込み）
    > https://docs.python.org/ja/3.12/reference/simple_stmts.html#the-type-statement
    ```
    type_stmt ::=  'type' identifier [type_params] "=" expression
    ```
    - 型エイリアスを定義する。
    - 型エイリアス自体の型は`typing.TypeAliasType`である。
  - (class) `TypeAliasType`
    - `type`文で定義された型エイリアスの型。
  - (class) `type`（組み込み）
    - 型オブジェクト。
    - コンストラクタに型を渡すと、その型を表す型オブジェクトを生成する。
      ```python
      t: type = type(int)
      ```
    - (GenericAlias) `type[T]`
      - `T`とみなせる型（`T`または`T`のサブクラス）を表す、ジェネリックな型オブジェクト。
- 特殊な型
  - (meta) `Any` 制約のないことを意味する型
  - (TypeVar) `AnyStr`
    - `str`か`bytes`を表す、定義済みの型変数。文字列系の関数向けの型
  - (class) `Annotated`
    - `Annotated[<type>, <metadata>]`の形式でメタデータを付加できる。
    - ※通常のクラスであり、特殊形式ではない。
- 特殊な形式（Special Form）
  - Special Form
    - `LiteralString`
      - 文字列のリテラルを意味する型。`str`は拒否する
      - 文字列リテラル同士の演算は受け入れることに注意。
    - `Never`, `NoReturn`
      - `return`しない関数の戻り値に使用する型。
    - `Self` クラス内において、現在のクラスを表すのに使用する型。
    - ~~`TypeAlias` 型エイリアスであることを意味する型。~~ --> 3.12 で非推奨。`type`文を推奨
    - `Union[]`
      - 3.10 以降は`|`でもよい。
    - `Optional[]`
      - `Optional[X]` は `Union[X, None]` と基本的に同義。
    - `Concatenate[]`
      - `ParamSpec`を結合する。
      - 高階関数（callable を引数に取る関数）向け。
    - `Literal[]` 指定したリテラルのみ許容する型。
    - `ClassVar[]` クラス変数であることを示すために使うラッパー。
    - `Final[]` 再アサイン禁止であることを示すラッパー。
      - `[]`は省略可。
      - クラス内の場合、サブクラスでのオーバーライドも禁止される。
    - `Required[]`, `NotRequired[]`
      - `TypedDict`のキーが必須である、または必須でないことを示すためのラッパー。
    - `TypeGuard[]` タイプガード関数の戻り値に使うラッパー。
    - `Unpack[]`
      - 型変数のタプル（`TypeVarTuple`）をアンパックすることを表すラッパー。
      - TypeVarTuple の頭にアンパック演算子`*` をつけるのと同じ。
- ジェネリック型
  - class
    - `Generic` ジェネリッククラスの抽象基底クラス
    - `TypeVar` 型変数クラス。
      - ジェネリック型の`[]`内の変数は TypeVar 型である。
      - ...
    - `TypeVarTuple` 型変数のタプルを表すクラス。
      - 型変数の前に`*`をつけるとそれは`TypeVarTuple`になる。
    - `ParamSpec` callable の引数の型の指定であることを表すためのクラス。
      - 型変数の前に`**`をつけるとそれは`ParamSpec`になる。
        ```python
        def add_logging[T, **P](f: Callable[P, T]) -> Callable[P, T]:
        ```
      - `ParamSpec.args`, `ParamSpec.kwargs`
    - `ParamSpecArgs`, `ParamSpecKwargs`
      - `ParamSpec.args`および`ParamSpec.kwargs`の型。
- その他
  - (function) `NamedTuple()`関数
    - `collections.namedtuple()`の型注釈付き版。
  - (class) `NewType`
    - 型注釈にのみ使える型。
    - 元にした型のサブクラスのように扱われる。
  - (meta) `Protocol` プロトコルクラスの基底クラス。構造的部分型を実現する
  - `@runtime_checkable`
  - (function) `TypedDict()`関数
- プロトコル
  - Protocol
    - `SupportsAbs`
    - `SupportsBytes`
    - `SupportsComplex`
    - `SupportsFloat`
    - `SupportsIndex`
    - `SupportsInt`
    - `SupportsRound`
- IO
  - class
    - `IO`
    - `TextIO`
    - `BinaryIO`
- 関数とデコレータ
  - `cast()` --> TypeGuard を使う。
  - `assert_type()`
  - `assert_never()`
  - `reveal_type()`
  - `@dataclass_transform`
  - `@overload`
  - `get_overloads()`
  - `clear_overloads()`
  - `@final`
    - 関数に使うとオーバーライドを禁止する。
    - クラスに使うと継承を禁止する。
  - `@no_type_check` --> Annotated
  - `@no_type_check_decorator` --> Annotated
  - `@override`
  - ~~`@type_check_only`~~
- イントロスペクション
  - `get_type_hints()`
  - `get_origin()`
  - `get_args()`
  - `is_typeddict()`
  - (class) `ForwardRef`
- 定数
  - `TYPE_CHECKING`
- 非推奨になったエイリアス
  - (class) `Dict`, `List`, `Set`, `FrozenSet`, `Tuple()`, `Type()`
  - (class) `DefaultDict`, `OrderedDict`, `ChainMap`, `Counter`, `Deque`
  - (class) `Pattern`, `Match`, `Text`
  - (class) `AbstractSet`, `ByteString`, `Collection`, `Container`, `ItemsView`, `KeysView`, `Mapping`, `MappingView`, `MutableMapping`, `MutableSequence`, `MutableSet`, `Sequence`, `ValuesView`
  - (class) `Coroutine`, `AsyncGenerator`, `AsyncIterable`, `AsyncIterator`, `Awaitable`
  - (class) `Iterable`, `Iterator`, `Callable`, `Generator`, `Hashable`, `Reversible`, `Sized`
  - (class) `ContextManager`, `AsyncContextManager`
- ellipsis
