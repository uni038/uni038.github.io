# ネットワークスタック
- アプリケーション層
  - DHCP
  - DNS
  - FTP
  - HTTP
  - IMAP
  - LDAP
  - MQTT
  - NTP
  - SNTP
  - POP
  - RTP
  - SMTP
  - SNMP
  - SSH
  - Telnet
  - SSL -> TLS
- トランスポート層
  - TCP
  - UDP
  - QUIC
- インターネット層
  - IP
  - ICMP
  - IPsec
- リンク層
  - ARP
  - イーサネット

## イーサネット
- IEEE802.3
  - イーサネットの規定。
  - 規格を n BASE m と表記する。
    - n は伝送速度。数値の場合はメガビット/秒
    - m は伝送媒体・伝送距離・伝送符号など。Tはツイストペアケーブル
    - 主流は 1000BASE-T (1Gbps)
    - 10GBASE-T も存在するが、カテゴリ6以上のツイストペアケーブルが必要なため普及していない
- マルチギガビットイーサネット
  - 2.5Gbps/5Gbpsの規格の総称。マルチギガビットとは1Gbpsと10Gbpsの中間を意味する。
  - カテゴリー5eのケーブルを使用する。
  - 2.5GBASE-T、5GBASE-T

### LLC, MAC
- イーサネットはOSI参照モデルでいうデータリンク層をさらに2つの層に分ける。
  - LLC (Logical Link Control、論理リンク制御)
    - 多重化・非多重化、フロー制御、欠落検知、再送制御
    - 下層での物理媒体による差異を吸収し、上位層から統一的に扱えるようにする
      - 有線LANについては現在はイーサネットに統一されたため必要なくなった
  - MAC (Medium Access Control、媒体アクセス制御)
    - 同じ物理媒体を共有する通信を制御する仕組み
    - CSMA/CD (Carrier Sense Multiple Access with Collision Detection、搬送波感知多重アクセス/衝突検出)
      - 同一の物理回線を共用するための方式。物理回線を流れる信号を監視し、誰も通信していないことを確認して送信する
      - LANスイッチの普及により使用されなくなった（全二重通信）
    - CSMA/CA (Carrier Sense Multiple Access/Collision Avoidance)
      - 通信の終了を検知して送信を開始する
      - 衝突を検知しにくい無線LANで使われる

### イーサネットフレーム
- 物理層パケット
  - プリアンブル (7 Byte)
  - SFD (1 Byte)
  - イーサネットフレーム
    - 宛先MACアドレス (6 Byte)
    - 送信元MACアドレス (6 Byte)
    - (VLANタグ (4/8 Byte))
    - タイプ/長さ (2 Byte)
    - ペイロード (46-1500 Byte)
    - FCS (4 Byte)
  - パケット間隔 (12 Byte)

- プリアンブル(preamble)
  - 1と0を交互に7バイト送信する。
- SFD (start frame delimiter)
  - フレーム開始区切り。10101011
- MACアドレス
  - 1バイトは16進数で2桁なので、16進数表記すると12桁。
  - 前半3バイトは OUI (Organizationally Unique Identifier) といい、IEEEによって組織に割り当てられている。後半3バイトは各組織が一意に割り振る。
  - 最初の1バイトの1番下のビットをIGビットといい、0がユニキャストアドレス、1がマルチキャストアドレスを意味する。同様に最初の1バイトの下から2番目のビットはGLビットといい、0がグローバルアドレス、1がローカルアドレスを意味する。
    - 実際の伝送は各バイトごとに1番下のビットから1番上のビットへの順で行われる。
  - FF-FF-FF-FF-FF-FF はブロードキャストアドレスである。
- VLANタグ
  - 仮想LAN(VLAN)において、どのVLANに所属するかを識別するタグ。
- タイプ/長さ
  - 0x0600(1536)以上の場合はデータの種別を表す。これを EtherType という。
    - 0x0800 : IPv4
    - 0x0806 : ARP
    - 0x8100 : タグVLAN
    - 0x86DD : IPv6
  - 0x05DC(1500)以下の場合はペイロード長を表す。
- FCS(フレームチェックシーケンス)
  - 巡回冗長検査(CRC)も参照。

- 拡張イーサネット
- オーバーレイネットワーク

## 無線LAN

